{"version":3,"file":"/home/zoe/Documents/Cozy_Cloud/files/cozy-files/build/client/public/javascripts/app.js","sources":["app/application.coffee","app/collections/files.coffee","app/collections/upload_queue.coffee","app/initialize.coffee","app/lib/app_helpers.coffee","app/lib/base_view.coffee","app/lib/client.coffee","app/lib/folder_helpers.coffee","app/lib/socket.coffee","app/lib/view_collection.coffee","app/locales/en.coffee","app/locales/fr.coffee","app/locales/ro.coffee","app/models/file.coffee","app/router.coffee","app/views/breadcrumbs.coffee","app/views/file.coffee","app/views/files.coffee","app/views/folder.coffee","app/views/modal.coffee","app/views/modal_folder.coffee","app/views/modal_share.coffee","app/views/modal_upload.coffee","app/views/public_folder.coffee","app/views/tags.coffee","app/views/templates/breadcrumbs_element.jade","app/views/templates/file.jade","app/views/templates/file_edit.jade","app/views/templates/file_search.jade","app/views/templates/files.jade","app/views/templates/folder.jade","app/views/templates/modal.jade","app/views/templates/modal_folder.jade","app/views/templates/modal_upload.jade","app/views/templates/progressbar.jade","app/views/uploaded_file_view.coffee","app/widgets/progressbar.coffee"],"names":[],"mappings":"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CA;AACA;AA7BA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnFA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5CA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnFA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxBA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtCA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxBA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;;ACAA;EAAA;iSAAA;;AAAA,cAAc,QAAQ,wBAAR,CAAd;;AAAA,QAEA,GAAW,QAAQ,kBAAR,CAFX;;AAAA,MAGM,CAAC,OAAP,GAAuB;AAEnB;;;;GAAA;;AAAA,yCAAW,sBAAX;;AAAA,6BAEA,aAAY,SAAC,OAAD;AACR,qDAAM,OAAN;AAAA,IAEA,IAAC,OAAD,GAAU,KAFV;WAGA,IAAC,SAAD,CAAU,IAAC,MAAX,EAAkB,MAAlB,EAA0B;aAAA;AACtB,aAAC,OAAD,GAAU,IAAV;eACA,KAAC,OAAD,GAFsB;MAAA;IAAA,QAA1B,EAJQ;EAAA,CAFZ;;AAAA,6BAUA,WAAU;AACN;AAAA,cAAU,EAAK,6DAEZ,KAAC,MAAK,CAAC,GAAP,CAAW,MAAX,EAFY,GAEQ,iBAFb,CAAV;AAKA,QAAG,IAAC,MAAK,CAAC,KAAV;AACI,aAAO,CAAC,MAAR,CAAkB,8BACP,IAAC,MAAK,CAAC,KADA,GACO,SADzB,EADJ;KAAA,MAIK,IAAG,IAAC,OAAD,IAAW,IAAC,MAAK,CAAC,UAArB;AACD,aAAO,CAAC,MAAR,CAAkB,6BACR,GAAE,gBAAF,EADQ,GACY,SAD9B,EADC;KAAA;AAKD,aAAO,CAAC,MAAR,CAAe,eAAI,CAAY;AAAA,eAAO,IAAC,MAAR;OAAZ,CAA0B,CAAC,MAA3B,EAAmC,CAAC,GAAvD,EALC;KATL;AAgBA,WAAO,OAAP,CAhBA;WAkBA;AAAA,eAAS;AACL,YAAC,cAAD,CAAe,IAAC,MAAhB;eACA,+CAFK;MAAA,CAAT;MAnBM;EAAA,CAVV;;0BAAA;;GAF4C,SAHhD;;;;ACAA;EAAA;iSAAA;;AAAA,WAAW,QAAQ,kBAAR,CAAX;;AAAA,MAEM,CAAC,OAAP,GAAuB;AAEnB;;;;GAAA;;AAAA,wCAAW,cAAX;;AAAA,4BACA,WAAU,QAAQ,gCAAR,CADV;;AAAA,4BAEA,QAAO,CAFP;;AAAA,4BAIA,aAAY;AACR,QAAC,SAAD,CAAU,IAAC,MAAX,EAAkB,UAAlB,EAA8B,IAAC,OAA/B;AAAA,IACA,IAAC,SAAD,CAAU,IAAC,MAAX,EAAkB,MAAlB,EAA0B,IAAC,QAA3B,CADA;WAGA,IAAC,MAAD,GAAS,IAAC,eAAD,CAAgB,IAAC,MAAK,CAAC,MAAvB,EAA+B,IAAC,MAAK,CAAC,KAAtC,EAJD;EAAA,CAJZ;;AAAA,4BAUA,SAAQ,SAAC,CAAD;AACJ,QAAC,MAAD,GAAS,IAAC,eAAD,CAAgB,CAAC,CAAC,MAAlB,EAA0B,CAAC,CAAC,KAA5B,CAAT;WACA,IAAC,OAAD,GAFI;EAAA,CAVR;;AAAA,4BAcA,iBAAgB,SAAC,MAAD,EAAS,KAAT;AACZ,WAAO,SAAS,SAAS,KAAT,GAAiB,GAA1B,CAAP,CADY;EAAA,CAdhB;;AAAA,4BAiBA,gBAAe;WACX;AAAA,aAAO,IAAC,MAAR;AAAA,MACA,MAAM,IAAC,MAAK,CAAC,GAAP,CAAW,MAAX,CADN;MADW;EAAA,CAjBf;;yBAAA;;GAF2C,SAF/C","sourcesContent":["FileCollection = require './collections/files'\nUploadQueue = require './collections/upload_queue'\nFile = require './models/file'\nSocketListener = require '../lib/socket'\nFolderView = require './views/folder'\n\n###\nInitialize the model and start the actual code\n###\nmodule.exports =\n\n    initialize: ->\n\n        # the base collection holds all the files and folders of the application\n        @baseCollection = new FileCollection()\n\n        # queue to allow new uploads while uploading\n        @uploadQueue = new UploadQueue()\n\n        @socket = new SocketListener()\n        @socket.watch @baseCollection\n\n        Router = require 'router'\n        @router = new Router()\n\n        # Generate the root folder\n        @root = new File\n            id: \"root\"\n            path: \"\"\n            name: t 'root folder name'\n            type: \"folder\"\n        @baseCollection.add @root\n\n        # for easy debugging in browser (and dirty tricks)\n        window.app = @\n\n        Backbone.history.start()\n\n        # Makes this object immuable.\n        Object.freeze this if typeof Object.freeze is 'function'\n","File = require '../models/file'\n\n###\nRepresents a collection of files\nIt acts as the cache when instantiate as the baseCollection\nThe base collection holds ALL the files and folders of the application\nIt creates projections (subcollection) that will be consumed by folder views.\nThose projections represents one folder.\n###\nmodule.exports = class FileCollection extends Backbone.Collection\n\n    # Model that will be contained inside the collection.\n    model: File\n\n    # This is where ajax requests the backend.\n    url: 'files'\n\n    cachedPaths: []\n\n    isPathCached: (path) -> @cachedPaths.indexOf(path) isnt -1\n\n    ###\n        Retrieves folder's information (meta data)\n        * from memory if it's cached\n        * otherwise, from server\n    ###\n    getFolderInfo: (folderID, callback) ->\n        folder = @get folderID\n        unless folder?\n            #console.log \"fetch folder info\"\n            folder = new File id: folderID, type: \"folder\"\n            folder.fetch\n                success: =>\n                    @add folder\n                    callback null, folder\n                error: (xhr, resp) ->\n                    callback status: resp.status, msg: resp.statusText\n        else\n            #console.log \"[cache] fetch folder info\"\n            callback null, folder\n\n    # Retrieves folder's content (files and folders in it)\n    getFolderContent: (folder, callback = ->) ->\n        #console.log \"fetch folder content\"\n        path = folder.getRepository()\n        folder.fetchContent (err, content, parents) =>\n            if err?\n                callback err\n            else\n                #folder.setBreadcrumb parents\n                @add content, merge: true\n\n                @cachedPaths.push path unless @isPathCached path\n                callback()\n\n    ###\n        Global method to retrieve folder's info and content\n        and create a subcollection (projection) based on the current collection\n    ###\n    getByFolder: (folderID, callback) ->\n        @getFolderInfo folderID, (err, folder) =>\n            if err? then callback err\n            else\n                path = folder.getRepository()\n                filter = (file) ->\n                    file.get('path') is path and not file.isRoot()\n\n                collection = new BackboneProjections.Filtered @,\n                                    filter: filter\n                                    comparator: @comparator\n\n                if @isPathCached path\n                    #console.log \"[cache] fetch folder content\"\n                    callback null, folder, collection\n                else\n                    # we retrieve at the same time the folder's content\n                    # and the folder's breadcrumb\n                    @getFolderContent folder, ->\n                        callback null, folder, collection\n\n    comparator: (f1, f2) ->\n\n        # default values\n        @type = 'name' unless @type?\n        @order = 'asc' unless @order?\n\n        t1 = f1.get 'type'\n        t2 = f2.get 'type'\n\n        if @type is 'name'\n            n1 = f1.get('name').toLocaleLowerCase()\n            n2 = f2.get('name').toLocaleLowerCase()\n        else if @type is \"lastModification\"\n            n1 = new Date(f1.get 'lastModification').getTime()\n            n2 = new Date(f2.get 'lastModification').getTime()\n        else\n            n1 = f1.get @type\n            n2 = f2.get @type\n\n        sort = if @order is 'asc' then -1 else 1\n\n        if t1 is t2\n            if n1 > n2 then return -sort\n            else if n1 < n2 then return sort\n            else return 0\n\n        else if t1 is 'file' and t2 is 'folder'\n            return 1\n        else # t1 is 'folder' and t2 is 'file'\n            return -1\n","module.exports = class UploadQueue extends Backbone.Collection\n\n    # number of files actually loaded\n    loaded: 0\n\n    initialize: ->\n        @listenTo @, 'sync', =>\n            @loaded++\n            @trigger 'upload-progress', loaded: @loaded, total: @length\n\n    isAllLoaded: -> return @loaded is @length\n\n    reset: (models, options) ->\n        @loaded = 0\n        super models, options\n\n    processUpload: (callback) ->\n        # do upload 5 by 5\n        toUpload = @filter (file) -> return not file.isUploaded\n        async.eachLimit toUpload, 5, (file, cb) ->\n\n            # we really make sure that an uploaded file won't be upload again\n            return cb null  if file.error or file.isUploaded\n\n            file.save null,\n                success: -> cb null\n                error: (err) ->\n                    file.error = t err.msg or \"modal error file upload\"\n                    file.trigger 'sync'\n                    cb null # do not stop all list if one fail\n        , callback\n","app = require 'application'\n\n$ ->\n    jQuery.event.props.push 'dataTransfer'\n\n    locale = window.locale or \"en\" # default locale\n    moment.lang locale\n\n    locales = {}\n    try\n        locales = require \"locales/#{locale}\"\n    catch err\n        locales = require \"locales/en\"\n\n    polyglot = new Polyglot()\n\n    # we give polyglot the data\n    polyglot.extend locales\n\n    # handy shortcut\n    window.t = polyglot.t.bind polyglot\n\n    # launch the app\n    app.initialize()\n","(() ->\n    # IIFE to avoid collisions with other variables\n    (->\n        # Make it safe to do console.log() always.\n        console = window.console = window.console or {}\n        method = undefined\n        dummy = ->\n        methods = ('assert,count,debug,dir,dirxml,error,exception,\n                   group,groupCollapsed,groupEnd,info,log,markTimeline,\n                   profile,profileEnd,time,timeEnd,trace,warn').split ','\n\n        console[method] = console[method] or dummy while method = methods.pop()\n    )()\n)()\n","module.exports = class BaseView extends Backbone.View\n\n    template: ->\n\n    initialize: ->\n\n    getRenderData: ->\n        model: @model?.toJSON()\n\n    render: ->\n        @beforeRender()\n        @$el.html @template @getRenderData()\n        @afterRender()\n        @\n\n    beforeRender: ->\n\n    afterRender: ->\n\n    destroy: ->\n        #@undelegateEvents()\n        #@$el.removeData().unbind()\n        @remove()\n        #Backbone.View::remove.call @\n","# Make ajax request more easy to do.\nexports.request = (type, url, data, callback) ->\n    $.ajax\n        type: type\n        url: url\n        data: if data? then JSON.stringify data else null\n        contentType: \"application/json\"\n        dataType: \"json\"\n        success: (data) ->\n            callback null, data if callback?\n        error: (data) ->\n            if data.status in [200, 201, 204, 304]\n                callback null, data if callback?\n            else if data? and data.msg? and callback?\n                callback new Error data.msg\n            else if callback?\n                callback new Error \"Server error occured\"\n\n# Sends a get request with data as body\n# Expected callbacks: success and error\nexports.get = (url, callbacks) ->\n    exports.request \"GET\", url, null, callbacks\n\n# Sends a post request with data as body\n# Expected callbacks: success and error\nexports.post = (url, data, callbacks) ->\n    exports.request \"POST\", url, data, callbacks\n\n# Sends a put request with data as body\n# Expected callbacks: success and error\nexports.put = (url, data, callbacks) ->\n    exports.request \"PUT\", url, data, callbacks\n\n# Sends a delete request with data as body\n# Expected callbacks: success and error\nexports.del = (url, callbacks) ->\n    exports.request \"DELETE\", url, null, callbacks\n","module.exports =\n\nremoveTralingSlash: (path) ->\n    if path.slice(-1) is '/'\n        return path.slice(0, -1)\n    return path\n\ndirName: (path) ->\n    return path.split('/')[...-1].join('/')\n\nnestedDirs: (fileList) ->\n    levels = {}\n\n    # make an object with keys paths, values nest level\n    for file in fileList\n        relPath = file.relativePath || file.mozRelativePath || file.webkitRelativePath\n        parent = relPath.slice(0, relPath.lastIndexOf(file.name))\n        nestLevel = parent.split('/').length - 1\n        levels[parent] = nestLevel\n\n    # put them in a list, sorted by nest level\n    dirs = (path: path, nestLevel: levels[path] for path in Object.keys(levels))\n    dirs.sort (a, b) ->\n        return a.nestLevel - b.nestLevel\n\n    return (dir.path for dir in dirs)\n","File = require '../models/file'\n\nmodule.exports = class SocketListener extends CozySocketListener\n\n    models:\n        'file'   : File\n        'folder' : File\n\n    events: [\n        'file.create'\n        'file.update'\n        'file.delete'\n        'folder.create'\n        'folder.update'\n        'folder.delete'\n    ]\n\n    isInCachedFolder: (model) ->\n        path = model.get 'path'\n        return @collection.isPathCached path\n\n    onRemoteCreate: (model) ->\n        if @isInCachedFolder model\n            console.info \"remote create\", model\n            if not (@collection.get model.get(\"id\"))\n                @collection.add model, merge: true\n\n    onRemoteDelete: (model) ->\n        if @isInCachedFolder model\n            console.info \"remote delete\", model\n            @collection.remove model\n\n    onRemoteUpdate: (model, collection) ->\n        if @isInCachedFolder model\n            console.info \"remote update\", model\n            collection.add model, merge: true\n\n    process: (event) ->\n        {doctype, operation, id} = event\n\n        # console.info \"received: #{operation}:#{doctype}\"\n\n        switch operation\n            when 'create'\n                model = new @models[doctype](id: id, type: doctype)\n                model.fetch\n                    success: (fetched) =>\n                        # set as a folder or a file\n                        fetched.set type: doctype\n                        @onRemoteCreate fetched\n\n            when 'update'\n                @collections.forEach (collection) =>\n                    return unless model = collection.get id\n                    model.fetch\n                        success: (fetched) =>\n                            if fetched.changedAttributes()\n                                fetched.set type: doctype\n                                @onRemoteUpdate fetched, collection\n\n            when 'delete'\n                @collections.forEach (collection) =>\n                    return unless model = collection.get id\n                    @onRemoteDelete model, collection\n","BaseView = require 'lib/base_view'\n\n# View that display a collection of subitems\n# used to DRY views\n# Usage : new ViewCollection(collection:collection)\n# Automatically populate itself by creating a itemView for each item\n# in its collection\n\n# can use a template that will be displayed alongside the itemViews\n\n# itemView       : the Backbone.View to be used for items\n# itemViewOptions : the options that will be passed to itemViews\n# collectionEl : the DOM element's selector where the itemViews will\n#                be displayed. Automatically falls back to el if null\n\nmodule.exports = class ViewCollection extends BaseView\n\n    collectionEl: null\n    template: -> ''\n    itemview: null\n    views: {}\n    itemViewOptions: ->\n\n    # add 'empty' class to view when there is no subview\n    onChange: ->\n        @$el.toggleClass 'empty', _.size(@views) is 0\n\n    # can be overriden if we want to place the subviews somewhere else\n    appendView: (view) ->\n        @$collectionEl.append view.el\n\n    # bind listeners to the collection\n    initialize: ->\n        super\n        @views = {}\n        @listenTo @collection, \"reset\",   @onReset\n        @listenTo @collection, \"add\",     @addItem\n        @listenTo @collection, \"remove\",  @removeItem\n\n        @collectionEl = el if not @collectionEl?\n\n    # if we have views before a render call, we detach them\n    render: ->\n        view.$el.detach() for id, view of @views\n        super\n\n    # after render, we reattach the views\n    afterRender: ->\n        @$collectionEl = $ @collectionEl\n        @appendView view.$el for id, view of @views\n        @onReset @collection\n        @onChange @views\n\n    # destroy all sub views before remove\n    remove: ->\n        @onReset []\n        super\n\n    # event listener for reset\n    onReset: (newcollection) ->\n        view.remove() for id, view of @views\n        newcollection.forEach @addItem\n\n    # event listeners for add\n    addItem: (model) =>\n        options = _.extend {}, model: model, @itemViewOptions(model)\n        view = new @itemview options\n        @views[model.cid] = view.render()\n        @appendView view\n        @onChange @views\n\n    # event listeners for remove\n    removeItem: (model) =>\n        @views[model.cid].remove()\n        delete @views[model.cid]\n\n        @onChange @views\n","module.exports =\n\n    # folder view\n    \"modal error\"               : \"Error\"\n    \"modal ok\"                  : \"OK\"\n    \"modal error get files\"     : \"Error getting files from server\"\n    \"modal error get folders\"   : \"Error getting folders from server\"\n    \"modal error get content\"   : \"An error occurred while retrieving content of folder \\\"%{folderName}\\\" from the server\"\n    \"modal error empty name\"    : \"The name can't be empty\"\n    \"modal error file invalid\"  : \"doesn't seem to be a valid file\"\n\n    \"root folder name\"          : \"root\"\n\n    # breadcrumbs\n    \"breadcrumbs search title\"  : \"Search\"\n\n    # files view\n    \"modal error file exists\"   : \"Sorry, a file or folder having this name already exists\"\n    \"modal error file upload\"   : \"File could not be sent to server\"\n    \"modal error folder create\" : \"Folder could not be created\"\n    \"modal error folder exists\" : \"Sorry, a file or folder having this name already exists\"\n    \"modal error zip empty folder\" : \"You can't download an empty folder as a ZIP.\"\n\n    # file view\n    \"modal are you sure\"        : \"Are you sure ?\"\n    \"modal delete msg\"          : \"Deleting cannot be undone\"\n    \"modal delete ok\"           : \"Delete\"\n    \"modal cancel\"              : \"cancel\"\n    \"modal delete error\"        : \"cancel\"\n\n    \"modal error in use\"        : \"Name already in use\"\n    \"modal error rename\"        : \"Name could not be changed\"\n    \"modal error empty name\"    : \"Name can't be empty\"\n    \"modal error no data\"       : \"No name and no folder to upload\"\n\n    \"tag\"                       : \"tag\"\n\n    # file_edit template\n    \"file edit save\"            : \"Save\"\n    \"file edit cancel\"          : \"cancel\"\n    #tooltip\n    \"tooltip delete\"          : \"Delete\"\n    \"tooltip edit\"            : \"Rename\"\n    \"tooltip download\"        : \"Download\"\n    \"tooltip share\"            : \"Share\"\n\n    # folder template\n    \"upload caption\"            : \"Upload a new file\"\n    \"upload msg\"                : \"Drag files or click here to choose files.\"\n    \"upload msg selected\"       : \"\"\"\n        You have selected %{smart_count} file, click Add to upload it. ||||\n        You have selected %{smart_count} files, click Add to upload them.\n    \"\"\"\n    \"upload close\"              : \"Close\"\n\n    \"upload send\"               : \"Add\"\n    \"upload button\"             : \"Upload a file\"\n    \"upload success\"            : \"Upload successfuly completed!\"\n    \"upload end button\"         : \"Close\"\n    \"total progress\"            : \"Total progress\"\n\n    \"new folder caption\"        : \"Add a new folder\"\n    \"new folder msg\"            : \"Create a folder named:\"\n    \"new folder close\"          : \"Close\"\n    \"new folder send\"           : \"Create Folder\"\n    \"new folder button\"         : \"Create a new folder\"\n\n    \"drop message\"              : \"Drop your files here to automatically add them\"\n\n    \"upload folder msg\"         : \"Upload a folder\"\n    \"upload folder separator\"   : \"or\"\n\n    \"folder\"                    : \"Folder\"\n    \"image\"                     : \"Image\"\n    \"document\"                  : \"Document\"\n    \"music\"                     : \"Music\"\n    \"video\"                     : \"Video\"\n\n    \"yes\"                       : \"Yes\"\n    \"no\"                        : \"No\"\n\n    \"name\"                      : \"Name\"\n    \"type\"                      : \"Type\"\n    \"size\"                      : \"Size\"\n    \"date\"                      : \"Last update\"\n    \"download\"                  : \"Download\"\n    \"MB\"                        : \"MB\"\n    \"KB\"                        : \"KB\"\n    \"B\"                         : \"B\"\n    \"files\"                     : \"files\"\n    \"element\"                   : \"%{smart_count} element |||| %{smart_count} elements\"\n    \"no file in folder\"         : \"This folder is empty.\"\n    \"no file in search\"         : \"Your search did not match any documents.\"\n\n    \"enable notifications\": \"Enable notifications\"\n    \"disable notifications\": \"Disable notifications\"\n    \"notifications enabled\": \"Notifications enabled\"\n    \"notifications disabled\": \"Notifications disabled\"\n\n    \"open folder\": \"Open the folder\"\n    \"download file\": \"View the file\"\n\n    # clearance modal\n    \"also have access\"                : \"These people also have access, because they have access to a parent folder\"\n    \"cancel\"                          : \"Cancel\"\n    \"copy paste link\"                 : \"To give access to your contact send him/her the link below:\"\n    \"details\"                         : \"Details\"\n    \"inherited from\"                  : \"inherited from\"\n    \"modal question folder shareable\" : \"Select share mode for this folder\"\n    \"modal shared folder custom msg\"  : \"Enter email and press enter\"\n    \"modal shared folder link msg\"    : \"Send this link to let people access this folder\"\n    \"modal send mails\"                : \"Send a notification\"\n    \"modal question file shareable\"   : \"Select share mode for this file\"\n    \"modal shared file custom msg\"    : \"Enter email and press enter\"\n    \"modal shared file link msg\"      : \"Send this link to let people access this file\"\n    \"only you can see\"                : \"Only you and the people listed below can access this resource\"\n    \"public\"                          : \"Public\"\n    \"private\"                         : \"Private\"\n    \"shared\"                          : \"Shared\"\n    \"save\"                            : \"Save\"\n    \"see link\"                        : \"See link\"\n    \"send mails question\"             : \"Send a notification email to:\"\n    \"sharing\"                         : \"Sharing\"\n    \"revoke\"                          : \"Revoke\"\n    \"forced public\"                   : \"This is public because one of the parent folder is public:\"\n    \"confirm\"                         : \"Confirm\"\n    \"share forgot add\"                : \"\"\"\n        Looks like you forgot to click the Add button\n    \"\"\"\n    \"share confirm save\"              : \"\"\"\n        The changes you made to the permissions will not be saved. Is that what you want ?\n    \"\"\"\n    \"yes forgot\"                      : \"Back\"\n    \"no forgot\"                       : \"It's ok\"\n    \"perm\"                            : \"can \"\n    \"perm r file\"                     : \"download this file\"\n    \"perm r folder\"                   : \"browse this folder\"\n    \"perm rw folder\"                  : \"browse and upload files\"\n    \"change notif\"                    : \"\"\"\n        Check this box to be notified when a contact\n        add a file to this folder.\"\"\"\n    \"send email hint\": \"Notification emails will be sent one time on save\"\n\n    'move': 'Move'\n    'tooltip move': 'Move element to another folder.'\n    \"moving...\": 'Moving...'\n    'move element to': 'Move element to'\n    'error occured canceling move': 'An error occured while canceling move.'\n    'error occured while moving element': 'An error occured while moving element'\n\n    'file successfully moved to': 'File successfully move to'\n","module.exports =\n\n    # folder view\n    \"modal error\"               : \"Erreur\"\n    \"modal ok\"                  : \"OK\"\n    \"modal error get files\"     : \"Une erreur s'est produite en rcuprant les fichiers du serveur\"\n    \"modal error get folders\"   : \"Une erreur s'est produite en rcuprant les dossiers du serveur\"\n    \"modal error get content\"   : \"Une erreur s'est produite en rcuprant le contenu du dossier \\\"%{folderName}\\\" sur le serveur\"\n    \"modal error empty name\"    : \"Le nom ne peut pas tre vide\"\n    \"modal error file invalid\"  : \"Le fichier ne parait pas tre valide\"\n\n    \"root folder name\"          : \"racine\"\n\n    # breadcrumbs\n    \"breadcrumbs search title\"  : \"Recherche\"\n\n    # files view\n    \"modal error file exists\"   : \"Dsol, un fichier ou un dossier a dj le mme nom\"\n    \"modal error file upload\"   : \"Le fichier n'a pas pu tre envoy au serveur\"\n    \"modal error folder create\" : \"Le dossier n'a pas pu tre cr\"\n    \"modal error folder exists\" : \"Dsol, un fichier ou un dossier a dj le mme nom\"\n    \"modal error zip empty folder\" : \"Vous ne pouvez pas tlcharger un dossier vide en tant que ZIP.\"\n\n    # file view\n    \"modal are you sure\"        : \"Etes-vous sr ?\"\n    \"modal delete msg\"          : \"La suppression ne pourra pas tre annule\"\n    \"modal delete ok\"           : \"Supprimer\"\n    \"modal cancel\"              : \"Annuler\"\n    \"modal delete error\"        : \"Annuler\"\n\n    \"modal error in use\"        : \"Ce nom est dj utilis\"\n    \"modal error rename\"        : \"Le nom n'a pas pu tre modifi\"\n    \"modal error empty name\"    : \"Le nom du dossier ne peut pas tre vide\"\n\n    \"tag\"                       : \"tiquette\"\n\n    #tooltip\n    \"tooltip delete\"          : \"Supprimer\"\n    \"tooltip edit\"            : \"Renommer\"\n    \"tooltip download\"        : \"Tlcharger\"\n    \"tooltip share\"            : \"Partager\"\n\n    # file_edit template\n    \"file edit save\"            : \"Sauvegarder\"\n    \"file edit cancel\"          : \"Annuler\"\n\n    # folder template\n    \"upload caption\"            : \"Ajouter des fichiers\"\n    \"upload msg\"                : \"Glissez des fichiers ou cliquez ici pour slectionner des fichiers  mettre en ligne.\"\n    \"upload msg selected\"       : \"\"\"\n        Vous avez slectionn %{smart_count} fichier, cliquez sur \"Ajouter\" pour les mettre en ligne. ||||\n        Vous avez slectionn %{smart_count} fichiers, cliquez sur \"Ajouter\" pour les mettre en ligne.\n    \"\"\"\n    \"upload close\"              : \"Annuler\"\n    \"upload send\"               : \"Ajouter\"\n    \"upload button\"             : \"Ajouter un fichier\"\n    \"upload success\"            : \"Ajout avec succs !\"\n    \"upload end button\"         : \"Fermer\"\n    \"total progress\"            : \"Progression totale\"\n\n    \"new folder caption\"        : \"Crer un nouveau dossier\"\n    \"new folder msg\"            : \"Entrer le nom du dossier :\"\n    \"new folder close\"          : \"Annuler\"\n    \"new folder send\"           : \"Crer\"\n    \"new folder button\"         : \"Crer un nouveau dossier\"\n\n    \"drop message\"              : \"Lchez ici vos fichiers pour les ajouter\"\n\n    \"upload folder msg\"         : \"Mettre en ligne un dossier\"\n    \"upload folder separator\"   : \"ou\"\n\n    \"folder\"                    : \"Dossier\"\n    \"image\"                     : \"Image\"\n    \"document\"                  : \"Document\"\n    \"music\"                     : \"Musique\"\n    \"video\"                     : \"Vido\"\n\n    \"yes\"                       : \"Oui\"\n    \"no\"                        : \"Non\"\n\n    \"name\"                      : \"Nom\"\n    \"type\"                      : \"Type\"\n    \"size\"                      : \"Taille\"\n    \"date\"                      : \"Dernire modification\"\n    \"download\"                  : \"Tlcharger\"\n    \"MB\"                        : \"Mo\"\n    \"KB\"                        : \"Ko\"\n    \"B\"                         : \"o\"\n    \"files\"                     : \"fichiers\"\n    \"element\"                   : \"%{smart_count} lment |||| %{smart_count} lments\"\n    \"no file in folder\"         : \"Ce dossier est vide.\"\n\n    \"enable notifications\": \"Activer les notifications\"\n    \"disable notifications\": \"Dsactiver les notifications\"\n    \"notifications enabled\": \"Notifications actives\"\n    \"notifications disabled\": \"Notifications dsactives\"\n\n    \"open folder\": \"Ouvrir le dossier\"\n    \"download file\": \"Consulter le fichier\"\n\n     # clearance modal\n    \"also have access\"                : \"Ces personnes ont galment accs, car ils ont accs  un dossier parent\"\n    \"cancel\"                          : \"Annuler\"\n    \"copy paste link\"                 : \"Pour donner accs  votre contact envoyez lui ce lien : \"\n    \"details\"                         : \"Details\"\n    \"inherited from\"                  : \"hrit de\"\n    \"modal question folder shareable\" : \"Choisissez le mode de partage pour ce dossier\"\n    \"modal shared folder custom msg\"  : \"Entrez un email et appuyez sur enter\"\n    \"modal shared folder link msg\"    : \"Envoyez ce lien pour qu'ils puissent accder  ce dossier\"\n    \"modal question file shareable\"   : \"Choisissez le mode de partage pour ce fichier\"\n    \"modal shared file custom msg\"    : \"Entrez un email et appuyez sur enter\"\n    \"modal shared file link msg\"      : \"Envoyez ce lien pour qu'ils puissent accder  ce dossier\"\n    \"only you can see\"                : \"Seul vous et les personnes ci-dessous peuvent accder  cette ressource.\"\n    \"public\"                          : \"Public\"\n    \"private\"                         : \"Priv\"\n    \"shared\"                          : \"Partag\"\n    \"save\"                            : \"Sauvegarder\"\n    \"see link\"                        : \"Voir le lien\"\n    \"sharing\"                         : \"Partage\"\n    \"revoke\"                          : \"Rvoquer la permission\"\n    \"send mails question\"             : \"Envoyer un email de notification  : \"\n    \"modal send mails\"                : \"Envoyer une notification\"\n    \"forced public\"                   : \"Ce dossier est public car un parent est public : \"\n    \"confirm\"                         : \"Confirmer\"\n    \"share forgot add\"                : \"\"\"\n        Il semble que vous ayez oubli d'appuyer sur le boutton Add\n    \"\"\"\n    \"share confirm save\"              : \"\"\"\n        Les changements effectus sur les permissions ne seront pas sauvegards. Etes vous sur ?\n    \"\"\"\n    \"yes forgot\"                      : \"Retour\"\n    \"no forgot\"                       : \"Ok\"\n    \"perm\"                            : \"peut \"\n    \"perm r file\"                     : \"consulter ce fichier\"\n    \"perm r folder\"                   : \"parcourir ce dossier\"\n    \"perm rw folder\"                  : \"parcourir ce dossier et ajouter des fichiers\"\n    \"change notif\"                    : \"\"\"\n        Cocher cette case pour recevoir une notification cozy quand un contact\n        ajoute un fichier  ce dossier.\"\"\"\n    \"send email hint\": \"Des emails de notification seront envoys lors de la premire sauvegarde.\"\n\n    \"move\": \"Dplacer\"\n    'tooltip move': \"Dplacer l'lment dans un autre dossier.\"\n    \"moving...\": \"Dplacement en cours...\"\n    \"move element to\": \"Dplacer l'lment vers \"\n    \"error occured canceling move\": \"Une erreur est survenue en annulant le dplacement.\"\n    \"error occured while moving element\": \"Une erreur est survenue en dplaant l'lment.\"\n    \"file successfully moved to\": 'Fichier dplac avec succs vers '\n\n","module.exports =\n\n    # folder view\n    \"modal error\"               : \"Eroare\"\n    \"modal ok\"                  : \"OK\"\n    \"modal error get files\"     : \"A aprut o eroare n transferul de fiiere de la server\"\n    \"modal error get folders\"   : \"A aprut o eroare n transferul de directoare de la server\"\n    \"modal error get content\"   : \"An error occurred while retrieving content of folder \\\"%{folderName}\\\" from the server\"\n    \"modal error empty name\"    : \"Numele nu poate fi vid\"\n    \"modal error file invalid\"  : \"Fiierul nu pare a fi valid\"\n\n    \"root folder name\"          : \"root\"\n\n    # breadcrumbs\n    \"breadcrumbs search title\"  : \"Cutare\"\n\n    # files view\n    \"modal error file exists\"   : \"Ne pare ru, exist deja un document cu acest nume\"\n    \"modal error file upload\"   : \"Fiierul nu a putut fi trimis server-ului\"\n    \"modal error folder create\" : \"Directorul nu a putut fi creat\"\n    \"modal error folder exists\" : \"Ne pare ru, exist deja un director cu acest nume\"\n    \"modal error zip empty folder\" : \"You can't download an empty folder as a ZIP.\"\n\n    # file view\n    \"modal are you sure\"        : \"Suntei sigur()?\"\n    \"modal delete msg\"          : \"tergerea nu poate fi anulat\"\n    \"modal delete ok\"           : \"tergere\"\n    \"modal cancel\"              : \"Anulare\"\n    \"modal delete error\"        : \"Anulare\"\n\n    \"modal error in use\"        : \"Nume deja folosit\"\n    \"modal error rename\"        : \"Numele nu a putut fi schimbat\"\n    \"modal error empty name\"    : \"Numele nu poate fi vid\"\n    \"modal error no data\"       : \"Nu exist date de ncrcat\"\n\n    \"tag\"                       : \"etichet\"\n\n    # file_edit template\n    \"file edit save\"            : \"Salvare\"\n    \"file edit cancel\"          : \"Anulare\"\n    #tooltip\n    \"tooltip delete\"          : \"tergere\"\n    \"tooltip edit\"            : \"Redenumire\"\n    \"tooltip download\"        : \"Descrcare\"\n    \"tooltip share\"            : \"Partajare\"\n\n    # folder template\n    \"upload caption\"            : \"ncrcare fiier\"\n    \"upload msg\"                : \"Alegei fiierul de ncrcat:\"\n    \"upload close\"              : \"Anulare\"\n    \"upload send\"               : \"ncrcare\"\n\n    \"upload button\"             : \"ncrcai un fiier aici\"\n\n    \"new folder caption\"        : \"Adugai un nou director\"\n    \"new folder msg\"            : \"Creai un director cu numele:\"\n    \"new folder close\"          : \"Anulare\"\n    \"new folder send\"           : \"OK\"\n    \"new folder button\"         : \"Creare director\"\n\n    \"upload folder msg\"         : \"ncrcai un director\"\n\n    \"folder\"                    : \"Director\"\n    \"image\"                     : \"Imagine\"\n    \"document\"                  : \"Document\"\n    \"music\"                     : \"Muzic\"\n    \"video\"                     : \"Video\"\n\n    \"yes\"                       : \"Da\"\n    \"no\"                        : \"Nu\"\n\n    \"name\"                      : \"Nume\"\n    \"type\"                      : \"Tip\"\n    \"size\"                      : \"Dimensiune\"\n    \"date\"                      : \"Ultima modificare\"\n    \"download\"                  : \"Descrcare\"\n    \"MB\"                        : \"Mo\"\n    \"KB\"                        : \"Ko\"\n    \"B\"                         : \"o\"\n\n    \"enable notifications\": \"Activare notificri\"\n    \"disable notifications\": \"Dezactivare notificri\"\n\n    \"open folder\": \"Accesare director\"\n    \"download file\": \"Descrcare fiier\"\n\n    # clearance modal\n    \"also have access\"                : \"Aceste persoane au acces, deoarece au acces la un director printe\"\n    \"cancel\"                          : \"Anulare\"\n    \"copy paste link\"                 : \"Pentru a oferi acces la dvs. de contact trimite el/ea pe link-ul de mai jos: \"\n    \"details\"                         : \"Detalii\"\n    \"inherited from\"                  : \"motenit de la\"\n    \"modal question folder shareable\" : \"Alegei modul de partajare pentru acest director\"\n    \"modal shared folder custom msg\"  : \"Introducei adresa de e-mail i apsai Enter\"\n    \"modal shared folder link msg\"    : \"Trimitei aceast adres persoanelor pentru a putea accesa directorul\"\n    \"modal send mails\"                : \"Trimitei o notificare\"\n    \"modal question file shareable\"   : \"Alegei modul de partajare pentru acest document\"\n    \"modal shared file custom msg\"    : \"Introducei adresa de e-mail i apsai Enter\"\n    \"modal shared file link msg\"      : \"Trimitei aceast adres persoanelor pentru a putea accesa directorul\"\n    \"only you can see\"                : \"Numai Dvs. i persoanele de mai jos au acces\"\n    \"public\"                          : \"Public\"\n    \"private\"                         : \"Privat\"\n    \"shared\"                          : \"Partajat\"\n    \"save\"                            : \"Salvare\"\n    \"see link\"                        : \"Vedei adres\"\n    \"send mails question\"             : \"Trimitei e-mail de notificare la: \"\n    \"sharing\"                         : \"Partajare\"\n    \"revoke\"                          : \"Revocare permisiune\"\n    \"forced public\"                   : \"Acesta este public deoarece un director printe este public: \"\n    \"perm\"                            : \"poate \"\n    \"perm r file\"                     : \"descrca acest fiier\"\n    \"perm r folder\"                   : \"parcurge acest dosar \"\n    \"perm rw folder\"                  : \"parcurge acest dosar i ncrca fiiere\"\n    \"change notif\"                    : \"\"\"Bifai aceast caset pentru a fi notificat atunci cnd o persoan de contact\n aduga un fiier n acest dosar.\n    \"\"\"\n    \"send email hint\": \"Notification emails will be sent one time on save\"\n","client = require '../lib/client'\n\nmodule.exports = class File extends Backbone.Model\n\n    # The breadcrumb is an array of vanilla JS objects\n    # representing a parent folder.\n    breadcrumb: null\n\n    constructor: (options) ->\n        doctype = options.docType?.toLowerCase()\n        if doctype?\n            options.type = if doctype is 'file' then 'file' else 'folder'\n        super options\n\n    isFolder: -> return @get('type') is 'folder'\n    isRoot: -> return @get('id') is 'root'\n\n    # Overrides sync method to allow file upload (multipart request)\n    # and progress events\n    sync: (method, model, options)->\n\n        # this is a new model, let's upload it as a multipart\n        if model.file\n            formdata = new FormData()\n            formdata.append 'name', model.get 'name'\n            formdata.append 'path', model.get 'path'\n            formdata.append 'file', model.file\n            formdata.append 'lastModification', model.get 'lastModification'\n\n            # trigger upload progress on the model\n            progress = (e) -> model.trigger 'progress', e\n\n            _.extend options,\n                contentType: false\n                data: formdata\n                # patch Model.sync so it could trigger progress event\n                xhr: ->\n                    xhr = $.ajaxSettings.xhr()\n                    if xhr instanceof window.XMLHttpRequest\n                        xhr.addEventListener 'progress', progress, false\n                    if xhr.upload\n                        xhr.upload.addEventListener 'progress', progress, false\n                    xhr\n\n        @isUploaded = true\n        Backbone.sync.apply @, arguments\n\n    urlRoot: ->\n        if @get(\"type\") is \"folder\"\n            'folders/'\n        else if @get(\"type\") is \"search\"\n            'search/'\n        else\n            'files/'\n\n    validate: ->\n        errors = []\n        if not @get(\"name\") or @get(\"name\") is \"\"\n            errors.push\n                field: 'name'\n                value: \"A name must be set.\"\n\n        if errors.length > 0\n            return errors\n        return\n\n    prepareCallbacks: (callbacks, presuccess, preerror) ->\n        {success, error} = callbacks or {}\n        presuccess ?= (data) => @set data.app\n        @trigger 'request', @, null, callbacks\n        callbacks.success = (data) =>\n            presuccess data if presuccess\n            @trigger 'sync', @, null, callbacks\n            success data if success\n        callbacks.error = (jqXHR) =>\n            preerror jqXHR if preerror\n            @trigger 'error', @, jqXHR, {}\n            error jqXHR if error\n\n    # DEPRECATED -- alias due to deprecation\n    repository: -> @getRepository()\n    getRepository: ->\n        if @get('id') is \"root\"\n            return \"\"\n        else\n            return \"#{@get(\"path\")}/#{@get(\"name\")}\"\n\n    getPublicURL: (key) ->\n        \"#{window.location.origin}/public/files/#{@urlRoot()}#{@id}\"\n\n    ###\n        ONLY RELEVANT IF IT'S A FOLDER\n        Fetches content (folders and files) for the current folder\n        the request also responds with the breadcrumb\n    ###\n    fetchContent: (callbacks) ->\n        @prepareCallbacks callbacks\n        client.post \"#{@urlRoot()}content\", id: @id, (err, body) =>\n            if err?\n                @setBreadcrumb []\n                callbacks err\n            else\n                if body.parents?\n                    {content, parents} = body\n                else\n                    # during search or for root, there is not parents\n                    content = body\n                    parents = []\n                @setBreadcrumb parents\n                callbacks null, content, parents\n\n    # Set the breadcrumb attribute and append the root model to it\n    # If the folder is a search query, the breadcrumb is the query\n    setBreadcrumb: (parents) ->\n        if @get('type') is 'search'\n            @breadcrumb = [window.app.root.toJSON(), @toJSON()]\n        else\n            parents.unshift window.app.root.toJSON()\n            @breadcrumb = parents\n","app = require 'application'\nFile = require './models/file'\nFileCollection = require './collections/files'\nFolderView = require './views/folder'\n\n###\nBinds routes to code actions.\nThis is also used as a controller to initialize views and perform data fetching\n###\nmodule.exports = class Router extends Backbone.Router\n\n    folderView: null\n\n    routes:\n        '': 'main'\n        'folders/:folderid' : 'folder'\n        'search/:query' : 'search'\n\n    main: ->\n        rootID = app.root.get 'id'\n        @_loadFolderView rootID\n\n    folder: (id) -> @_loadFolderView id\n\n    search: (query) ->\n        folder = new File\n                id: query\n                type: \"search\"\n                name: \"#{t('breadcrumbs search title')} '#{query}'\"\n\n        folder.fetchContent (err, content) =>\n            collection = new FileCollection content\n\n            # we don't re-render the view to prevent the search field\n            # from being reset\n            if @folderView?\n                @folderView.updateSearch folder, collection\n            else\n                @_renderFolderView folder, collection, query\n\n    # get the data and render the view\n    _loadFolderView: (folderID) ->\n        # add the spinner during folder change\n        @folderView.spin() if @folderView?\n\n        # retrieve folder info and content from data source or cache\n        app.baseCollection.getByFolder folderID, (err, folder, collection) =>\n            if err? then console.log err\n            else\n                @_renderFolderView folder, collection\n\n    # process the actual render\n    _renderFolderView: (folder, collection, query = '') ->\n        if @folderView?\n            @folderView.destroy()\n            # because destroying the view also removes the element\n            $('html').append $ '<body></body>'\n\n        @folderView = new FolderView\n            model: folder\n            collection: collection\n            baseCollection: app.baseCollection\n            breadcrumbs: app.breadcrumbs\n            uploadQueue: app.uploadQueue\n            query: query\n        @folderView.render()\n","BaseView = require '../lib/base_view'\n\nmodule.exports = class BreadcrumbsView extends BaseView\n\n    itemview: require './templates/breadcrumbs_element'\n    tagName: \"ul\"\n\n    # collection is a simple array, not a backbone collection\n    render: ->\n        opacity = if @collection.length is 1 then '0.5' else '1'\n        @$el.css 'opacity', opacity\n\n        @$el.empty()\n        for folder in @collection\n            @$el.append @itemview model: folder\n        @\n\n","BaseView = require '../lib/base_view'\nModalView = require \"./modal\"\nModalShareView = require \"./modal_share\"\nTagsView = require \"./tags\"\n\nclient = require \"../lib/client\"\n\nmodule.exports = class FileView extends BaseView\n\n    className      : 'folder-row'\n    tagName        : 'tr'\n    templateNormal : require './templates/file'\n    templateEdit   : require './templates/file_edit'\n    templateSearch : require './templates/file_search'\n\n    events:\n        'click a.file-delete'      : 'onDeleteClicked'\n        'click a.file-share'       : 'onShare'\n        'click a.file-edit'        : 'onEditClicked'\n        'click a.file-edit-save'   : 'onSaveClicked'\n        'click a.file-edit-cancel' : 'render'\n        'click a.file-move'        : 'onMoveClicked'\n        'keydown input'            : 'onKeyPress'\n\n    template: (args) ->\n        if @isSearchMode\n            @templateSearch args\n        else\n            @templateNormal args\n\n    initialize: (options) ->\n        @isSearchMode = options.isSearchMode\n        @listenTo @model, 'change', @render\n\n    onDeleteClicked: ->\n        new ModalView t(\"modal are you sure\"), t(\"modal delete msg\"), t(\"modal delete ok\"), t(\"modal cancel\"), (confirm) =>\n            if confirm\n                @model.destroy\n                    error: ->\n                        ModalView.error t(\"modal delete error\")\n\n    onEditClicked: ->\n        width = @$(\".caption\").width() + 10\n        model = @model.toJSON()\n        model.class = 'folder' unless model.class?\n        @$el.html @templateEdit model: model\n        @tags = new TagsView\n            el: @$ '.tags'\n            model: @model\n        @tags.render()\n        @$(\".file-edit-name\").width width\n        @$(\".file-edit-name\").focus()\n\n        # we only want to select the part before the file extension\n        lastIndexOfDot = model.name.lastIndexOf '.'\n        lastIndexOfDot = model.name.length if lastIndexOfDot is -1\n        input = @$(\".file-edit-name\")[0]\n        if typeof input.selectionStart isnt \"undefined\"\n            input.selectionStart = 0\n            input.selectionEnd = lastIndexOfDot\n        else if document.selection && document.selection.createRange\n            # IE Branch...\n            input.select()\n            range = document.selection.createRange()\n            range.collapse true\n            range.moveEnd \"character\", lastIndexOfDot\n            range.moveStart \"character\", 0\n            range.select()\n\n    onShare: -> new ModalShareView model: @model\n\n    onSaveClicked: ->\n        name = @$('.file-edit-name').val()\n\n        if name and name isnt \"\"\n            @model.save name: name,\n                wait: true\n                success: (data) =>\n                    @render()\n                error: (model, err) =>\n                    if err.status is 400\n                        ModalView.error t(\"modal error in use\")\n                    else\n                        ModalView.error t(\"modal error rename\")\n        else\n            ModalView.error t(\"modal error empty name\")\n\n\n    # Display Move widget and handle move operation if user confirms.\n    onMoveClicked: =>\n        formTemplate = \"\"\"\n            <div class=\"move-widget\">\n            <span> #{t 'move element to'}: </span>\n            <select class=\"move-select\"></select>\n            <button class=\"button btn move-btn\">\n                #{t 'move'}\n            </button>\n            <button class=\"btn btn-link cancel-move-btn\">\n                #{t 'cancel'}\n            </button>\n            </div>\n        \"\"\"\n\n        errorTemplate = \"\"\"\n            <div>\n                <span class=\"error\">\n                #{'error occured while moving element'}: #{@model.get 'name'}.\n                #</span>\n            </div>\n        \"\"\"\n\n        movedTemplate = (path) ->\n            \"\"\"\n            <div id=\"moved-infos\">\n            <span>#{ t 'file successfully moved to'}: /#{path}.</span>\n            <button class=\"btn btn-link cancel-move-btn\">\n                #{t 'cancel'}\n            </button>\n            </div>\n        \"\"\"\n\n        optionTemplate =  (path) -> \"\"\"\n            <option value=\"#{path}\">#{path}</option>\n        \"\"\"\n\n        firstCell = @$el.find('td:first-child')\n\n        client.get 'folders/list', (err, paths) =>\n            if err\n                alert err\n            else\n                parentPath = @model.get('path')\n                fullPath =  @model.get('path') + \"/\" + @model.get('name')\n                type = @model.get 'type'\n\n                # Add root folder to list.\n                paths.push '/' if parentPath isnt  \"\"\n\n\n                # Fill folder combobox with folder list.\n                moveForm = $ formTemplate\n                for path in paths\n                    if path isnt parentPath \\\n                       and not(type is 'folder' and path.indexOf(fullPath) is 0)\n                        moveForm.find('select').append optionTemplate path\n\n                # Cancel move action on cancel clicked.\n                cancelButton =  moveForm.find(\".cancel-move-btn\")\n                cancelButton.click ->\n                    moveForm.remove()\n\n                # Perform move operation on move clicked.\n                moveButton = moveForm.find(\".move-btn\")\n                moveButton.click =>\n\n                    # Show loading\n                    moveButton.html t \"moving...\"\n\n                    # Get path and url information.\n                    path = $(\".move-select\").val().substring 1\n                    id = @model.get 'id'\n                    previousPath = @model.get 'path'\n\n                    # Stop render sync.\n                    @stopListening @model\n                    window.app.socket.pause @model, null,\n                        ignoreMySocketNotification: true\n\n                    showMoveResult = =>\n                        moveForm.fadeOut()\n                        moveForm.remove()\n                        movedInfos = $ movedTemplate path\n                        firstCell.append movedInfos\n                        cancelButton =  movedInfos.find(\".cancel-move-btn\")\n                        movedInfos.click =>\n                            data = path: previousPath\n                            client.put \"#{type}s/#{id}\", data, (err) =>\n                                if err\n                                    ModalView.error t 'error occured canceling move'\n                                else\n                                    movedInfos.fadeOut()\n\n                    # Can't use Backbone model due to a weird sync\n                    # I can't figure out what is causing view to re-render.\n                    client.put \"#{type}s/#{id}\", path: path, (err) =>\n                        if err\n                            firstCell.append errorTemplate\n                        else\n                            showMoveResult()\n\n                        # Put back synchronization.\n                        window.app.socket.resume @model, null,\n                            ignoreMySocketNotification: true\n                        @listenTo @model, 'change', @render\n\n                @$el.find('td:first-child').append moveForm\n\n\n\n    onKeyPress: (e) =>\n        if e.keyCode is 13\n            @onSaveClicked()\n        else if e.keyCode is 27\n            @render()\n\n    afterRender: ->\n        @tags = new TagsView\n            el: @$('.tags')\n            model: @model\n        @tags.render()\n","ViewCollection = require '../lib/view_collection'\nFileView = require './file'\n\nmodule.exports = class FilesView extends ViewCollection\n    template: require './templates/files'\n    el: '#files'\n\n    itemview: FileView\n    collectionEl: '#table-items-body'\n\n    events:\n        'click #up-name'               : 'onChangeOrder'\n        'click #down-name'             : 'onChangeOrder'\n        'click #up-class'              : 'onChangeOrder'\n        'click #down-class'            : 'onChangeOrder'\n        'click #up-size'               : 'onChangeOrder'\n        'click #down-size'             : 'onChangeOrder'\n        'click #up-lastModification'   : 'onChangeOrder'\n        'click #down-lastModification' : 'onChangeOrder'\n\n    initialize: (options) ->\n        super options\n\n        @itemViewOptions = -> isSearchMode: options.isSearchMode\n        @chevron = order: @collection.order, type: @collection.type\n\n        @listenTo @collection, \"add\", @render\n        @listenTo @collection, \"remove\", @render\n        @listenTo @collection, \"sort\", @render\n        @listenTo @collection, \"reset\", @render\n\n    afterRender: ->\n        super()\n        @displayChevron @chevron.order, @chevron.type\n        @updateNbFiles()\n\n    updateNbFiles: ->\n        nbElements = @collection.length\n\n        if nbElements > 0\n            @$(\"#file-amount-indicator\").html t 'element',\n                                                smart_count: nbElements\n            @$(\"#file-amount-indicator\").show()\n            @$(\"#no-files-indicator\").hide()\n        else\n            @$(\"#file-amount-indicator\").hide()\n            @$(\"#no-files-indicator\").show()\n\n    # Helpers to display correct chevron to sort files\n    displayChevron: (order, type) ->\n\n        if order is \"asc\"\n            @$(\"#up-#{type}\").show()\n            @$(\"#down-#{type}\").hide()\n            @$(\"#up-#{type}\").removeClass 'unactive'\n        else\n            @$(\"#up-#{type}\").hide()\n            @$(\"#down-#{type}\").show()\n            @$(\"#down-#{type}\").removeClass 'unactive'\n\n\n    # Changer sorting depending on the clicked chevron.\n    onChangeOrder: (event) ->\n        infos = event.target.id.split '-'\n        order = infos[0]\n        type = infos[1]\n\n        order = if order is 'up' then 'desc' else 'asc'\n\n        @chevron = order: order, type: type\n        @collection.order = order\n        @collection.type = type\n        @collection.sort()\n","BaseView = require '../lib/base_view'\nFilesView = require './files'\nBreadcrumbsView = require \"./breadcrumbs\"\nModalUploadView = require './modal_upload'\nModalFolderView = require './modal_folder'\nModalShareView = require './modal_share'\n\nFile = require '../models/file'\nFileCollection = require '../collections/files'\n\n###\nHandles the display logic for a folder.\nMain entry point of the interface: handles breadcrumb, buttons and files list\n###\nmodule.exports = class FolderView extends BaseView\n\n    el: 'body'\n\n    template: require './templates/folder'\n\n    events: ->\n        'click #button-new-folder'     : 'onNewFolderClicked'\n        'click #button-upload-new-file': 'onUploadNewFileClicked'\n        'click #new-folder-send'       : 'onAddFolder'\n        'click #cancel-new-folder'     : 'onCancelFolder'\n        'click #cancel-new-file'       : 'onCancelFile'\n        'click #share-state'           : 'onShareClicked'\n\n        'dragstart #files' : 'onDragStart'\n        'dragenter #files' : 'onDragEnter'\n        'dragover #files'  : 'onDragEnter'\n        'dragleave #files' : 'onDragLeave'\n        'drop #files'      : 'onDrop'\n\n        'keyup input#search-box'       : 'onSearchKeyPress'\n\n    initialize: (options) ->\n        super options\n        @baseCollection = options.baseCollection\n        @uploadQueue = options.uploadQueue\n\n        # not empty only if a search has started\n        @query = options.query\n\n    destroy: ->\n        @breadcrumbsView.destroy()\n        @breadcrumbsView = null\n        @filesList.destroy()\n        @filesList = null\n\n        super()\n\n    getRenderData: ->\n        model: @model.toJSON()\n        query: @query\n\n    afterRender: ->\n        @uploadButton = @$ '#button-upload-new-file'\n\n        # breadcrumb management\n        @renderBreadcrumb()\n\n        # files list management\n        @renderFileList()\n\n        # We make a reload after the view is displayed to update\n        # the client without degrading UX\n        @refreshData()\n\n    renderBreadcrumb: ->\n        @$('#crumbs').empty()\n        @breadcrumbsView = new BreadcrumbsView collection: @model.breadcrumb\n        @$(\"#crumbs\").append @breadcrumbsView.render().$el\n\n    renderFileList: ->\n        @filesList = new FilesView\n                model: @model\n                collection: @collection\n                isSearchMode: @model.get('type') is \"search\"\n\n        @filesList.render()\n\n    spin: (state = 'small') -> @$(\"#loading-indicator\").spin state\n\n    # Refresh folder's content and manage spinner\n    refreshData: ->\n        @spin()\n        @baseCollection.getFolderContent @model, => @spin false\n\n    ###\n        Button handlers\n    ###\n    onUploadNewFileClicked: ->\n        @modal = new ModalUploadView\n            model: @model\n            validator: @validateNewModel\n            uploadQueue: @uploadQueue\n\n    onNewFolderClicked: ->\n        @modal = new ModalFolderView\n            model: @model\n            validator: @validateNewModel\n            uploadQueue: @uploadQueue\n\n    onShareClicked: -> new ModalShareView model: @model\n\n    # REFACTORING: should be improved and moved somewhere else\n    validateNewModel: (model) =>\n        myChildren = model.get('path') is @model.getRepository()\n        found = @filesList.collection.findWhere name: model.get 'name'\n        if myChildren and found\n            return t 'modal error file exists'\n        else\n            return null\n\n    ###\n        Drag and Drop to upload\n    ###\n    onDragStart: (e) ->\n        e.preventDefault()\n        e.stopPropagation()\n\n    onDragEnter: (e) ->\n        e.preventDefault()\n        e.stopPropagation()\n        @uploadButton.addClass 'btn-cozy-contrast'\n        @$('#files-drop-zone').show()\n\n    onDragLeave: (e) ->\n        e.preventDefault()\n        e.stopPropagation()\n        @uploadButton.removeClass 'btn-cozy-contrast'\n        @$('#files-drop-zone').hide()\n\n    onDrop: (e) ->\n        e.preventDefault()\n        e.stopPropagation()\n\n        filesToUpload = e.dataTransfer.files\n        if filesToUpload.length > 0\n            @modal = new ModalUploadView\n                model: @model\n                validator: @validateNewModel\n                files: filesToUpload\n                uploadQueue: @uploadQueue\n        @uploadButton.removeClass 'btn-cozy-contrast'\n        @$('#files-drop-zone').hide()\n\n    ###\n        Search\n    ###\n    onSearchKeyPress: (e) ->\n        query = @$('input#search-box').val()\n\n        if query isnt ''\n            route = \"#search/#{query}\"\n        else\n            route = ''\n\n        window.app.router.navigate route, true\n\n    # Refreshes the view by changing the files list\n    # we basically re-do @initialize but only render file list\n    # to prevent the focus loss in the search field\n    updateSearch: (model, collection) ->\n        @stopListening @model\n        @stopListening @collection\n        @model = model\n        @collection = collection\n\n        $('#upload-buttons').hide()\n\n        # the first time the view is displayed, it doesn't exist yet\n        if @filesList?\n            @filesList.destroy()\n            # because destroying the view also removes the element\n            @$('#loading-indicator').after $ '<div id=\"files\"></div>'\n        @renderBreadcrumb()\n        @renderFileList()\n","BaseView = require '../lib/base_view'\n\nmodule.exports = class ModalView extends BaseView\n\n    id: \"dialog-modal\"\n    className: \"modal fade\"\n    attributes:\n        'tab-index': -1\n    template: require './templates/modal'\n    value: 0\n\n    events: ->\n        \"click #modal-dialog-no\"  : \"onNo\"\n        \"click #modal-dialog-yes\" : \"onYes\"\n\n    constructor: (@title, @msg, @yes, @no, @cb, @hideOnYes) ->\n        super()\n        @hideOnYes = true unless @hideOnYes?\n\n    initialize: ->\n        @$el.on 'hidden.bs.modal', => @close()\n\n        @render()\n        @show()\n\n    onYes: ->\n        @cb true if @cb\n        @hide()\n\n    onNo: ->\n        @cb false if @cb\n        @hide() if @hideOnYes\n\n    onShow: ->\n\n    close: ->\n        setTimeout (() => @destroy()), 500\n\n    show: ->\n        @$el.modal 'show'\n        @$el.trigger 'show'\n\n    hide: ->\n        @$el.modal 'hide'\n        @$el.trigger 'hide'\n\n    render: ->\n        @$el.append @template(title: @title, msg: @msg, yes: @yes, no: @no)\n        $(\"body\").append @$el\n        @afterRender()\n        @\n\nmodule.exports.error = (code, cb) ->\n    new ModalView t(\"modal error\"), code, t(\"modal ok\"), false, cb\n","BaseView = require '../lib/base_view'\nModal = require \"./modal\"\nHelpers = require '../lib/folder_helpers'\nFile = require '../models/file'\nModalUploadView = require './modal_upload'\n\nClient = require \"../lib/client\"\n\n# extends the cozy-clearance modal to files specifics\nmodule.exports = class ModalFolderView extends Modal\n\n    id: \"dialog-new-folder\"\n    className: \"modal fade\"\n    attributes:\n        'tab-index': -1\n    template: require './templates/modal_folder'\n\n    constructor: (options, callback) ->\n\n        # must be done first, otherwise it's undefined\n        @uploadQueue = options.uploadQueue\n\n        # do not use modal short constructor\n        Modal.__super__.constructor.apply this, arguments\n        @callback = callback\n        @validator = options.validator\n\n\n    events: ->\n        _.extend super,\n            'keyup #inputName' : 'onKeyUp'\n            'change #folder-uploader': 'onUploaderChange'\n\n\n    initialize: ->\n        super\n        @prefix = @model.repository()\n\n    # - display upload folder form only if it is supported\n    # - Register submit button\n    afterRender: ->\n        uploadDirectoryInput = @$(\"#folder-uploader\")[0]\n        supportsDirectoryUpload = uploadDirectoryInput.directory or\n                                  uploadDirectoryInput.mozdirectory or\n                                  uploadDirectoryInput.webkitdirectory or\n                                  uploadDirectoryInput.msdirectory\n\n        if supportsDirectoryUpload\n            @$(\"#folder-upload-form\").removeClass('hide')\n\n\n        @uploader = @$('#folder-uploader')\n        @inputName = @$('#inputName')\n\n        @submitButton = @$ \"#modal-dialog-yes\"\n        @$el.on 'show', @onShow\n\n        # @submitButton.spin()\n        # @showModal()\n\n    hideAndDestroy: =>\n        @hide()\n        setTimeout =>\n            @destroy()\n        , 500\n\n    onShow: =>\n        setTimeout =>\n            @inputName.focus()\n        , 500\n\n    onKeyUp: (event) =>\n        if event.keyCode is 13 #enter\n            event.preventDefault()\n            event.stopPropagation()\n            @onYes()\n        else\n            # make action clear\n            @action = 'create'\n            @uploader.val ''\n            if @inputName.val().length > 0\n                @enableCreateButtonState()\n            else\n                @disableCreateButtonState()\n\n    onUploaderChange: =>\n        # make action clear\n        @action = 'upload'\n        @inputName.val ''\n        @enableCreateButtonState()\n\n    enableCreateButtonState: ->\n        element = $ '#modal-dialog-yes'\n        if element.prop 'disabled'\n            element.prop('disabled', 'false').button 'refresh'\n\n    disableCreateButtonState: ->\n        element = $ '#modal-dialog-yes'\n        unless element.prop 'disabled'\n            element.prop 'disabled', 'true'\n\n    doSaveFolder: (folder, callback) ->\n        # let parent view decide if this exists\n        if err = @validator folder\n            return Modal.error t \"modal error folder exists\"\n\n        @submitButton.html('&nbsp;').spin('tiny')\n        folder.save null,\n            always: ->\n                @submitButton.spin(false).text t 'new folder send'\n\n            success: (data) =>\n                @hideAndDestroy()\n                callback null\n\n            error: (_, err) ->\n                if err.status is 400\n                    Modal.error t \"modal error folder exists\"\n                else\n                    Modal.error t \"modal error folder create\"\n\n                callback err\n\n    doCreateFolder: (callback) =>\n        folder = new File\n            name: @$('#inputName').val()\n            path: @prefix\n            type: \"folder\"\n\n        if errors = folder.validate()\n            return Modal.error t \"modal error no data\"\n\n        @doSaveFolder folder, callback\n\n\n    doUploadFolder: (callback) =>\n        files = @$('#folder-uploader')[0].files\n\n        if not files.length\n            return Modal.error t \"modal error no data\"\n\n        dirs = Helpers.nestedDirs files\n\n        async.each dirs, (dir, cb) =>\n            dir = Helpers.removeTralingSlash dir\n            parts = dir.split '/'\n            path = \"#{@prefix}/#{parts[...-1].join '/'}\"\n            path = Helpers.removeTralingSlash path\n\n\n            folder = new File\n                name: parts[-1..][0]\n                path: path\n                type: \"folder\"\n\n            @doSaveFolder folder, (err) ->\n                console.log err if err\n                cb null\n\n        , (err) =>\n\n            files = _.filter files, (file) ->\n                file.name not in ['.', '..']\n\n            for file in files\n                relPath = file.relativePath or\n                          file.mozRelativePath or\n                          file.webkitRelativePath or\n                          file.msRelativePath\n                file.path = \"#{@prefix}/#{Helpers.dirName relPath }\"\n\n            new ModalUploadView\n                model: @model\n                files: files\n                validator: -> null\n                uploadQueue: @uploadQueue\n\n\n    onYes: =>\n        doStuff = if @action is 'upload' then @doUploadFolder else @doCreateFolder\n\n        doStuff ->\n            console.log arguments\n","BaseView = require '../lib/base_view'\nModal = require \"./modal\"\nclient = require \"../lib/client\"\nCozyClearanceModal = require \"cozy-clearance/modal_share_view\"\n\n# extends the cozy-clearance modal to files specifics\nmodule.exports = class ModalShareView extends CozyClearanceModal\n\n    # display inherited details on summary's click\n    events: -> _.extend super,\n        'click #inherited-share-summary a': =>\n            @$('#inherited-share-list').show()\n            @$('#inherited-share-summary').hide()\n\n    # retrieve inherited rules\n    initialize: (options) ->\n        @type = @model.get('type')\n        super\n        @summaryemails = []\n        client.get \"clearance/#{@model.id}\", (err, data) =>\n            if err\n                Modal.error 'server error occured', => @$el.modal 'hide'\n            else\n                @inherited = data.inherited\n                last = _.last @inherited\n                @forcedPublic = last.name if last?.clearance is 'public'\n\n                # actually render content\n                @refresh()\n\n    # allow rw permissions for folder, customize message depending on type\n    permissions: ->\n        if @type is 'folder'\n            'r': 'perm r folder'\n            'rw': 'perm rw folder'\n        else\n            'r': t 'perm r file'\n\n    # do not allow adding permissions for user who already have them by inheritance\n    typeaheadFilter: (item) =>\n        email = item.toString().split(';')[0]\n        super and email not in @summaryemails\n\n    # force 'public' display if forced public by inheritance\n    getRenderData: ->\n        out = super\n        out.clearance = 'public' if @forcedPublic\n        return out\n\n    # ignore click on 'public' button when forced public by inheritance\n    makePublic: ->\n        return if @forcedPublic\n        super\n\n    # support forced public by inheritance and add inherited summary\n    afterRender: () ->\n        super\n\n        if @forcedPublic\n            text = t('forced public') + @forcedPublic\n            @$('#share-public').addClass 'toggled'\n            @$('#share-private').hide().after $('<p>').text text\n        else\n            listitems = []\n            summary = []\n\n            for folder in @inherited when folder.clearance.length isnt 0\n                text = t('inherited from') + folder.name\n                listitems.push $('<li>').addClass('header').text text\n                for rule in folder.clearance\n                    summary.push rule.email\n                    listitems.push $('<li>').text rule.email\n\n            if summary.length isnt 0\n                @summaryemails = summary\n                text = t('also have access') + ' : ' + summary.join(', ') + '. '\n                summary = $('<div id=\"inherited-share-summary\">').text text\n                summary.append $('<a>').text t('details')\n                list = $('<ul id=\"inherited-share-list\">').hide()\n                list.append item for item in listitems\n                @$('#share-list').after summary, list\n\n        # if there is a writing guest\n        guestCanWrite = _.findWhere @model.get('clearance'), perm: 'rw'\n        if guestCanWrite\n            checkbox = $('<input id=\"notifs\" type=\"checkbox\">')\n            checkbox.prop 'checked', @model.get 'changeNotification'\n            text = t('change notif')\n            html = '<label class=\"notifs-label\" for=\"notifs\">'\n            label = $(html).append checkbox, text\n            @$('#share-list').after label\n\n\n    # include the changes notification in PUT request\n    saveData: ->\n        changeNotification = @$('#notifs').prop('checked') or false\n        _.extend super, changeNotification: changeNotification\n","Modal = require './modal'\nFile = require '../models/file'\nProgressBar = require '../widgets/progressbar'\n\nUploadedFileView = require './uploaded_file_view'\n\nmodule.exports = class ModalUploadView extends Modal\n\n    id: \"dialog-upload-file\"\n    className: \"modal fade\"\n    attributes:\n        'tab-index': -1\n    template: require './templates/modal_upload'\n\n    events: ->\n        _.extend super,\n            'dragover':  'onDragEnter'\n            'dragenter': 'onDragEnter'\n            'dragleave': 'onDragLeave'\n            'drop':      'onDrop'\n            'change #uploader': 'onUploaderChange'\n            'mousedown #uploader': 'handleUploaderActive'\n\n    constructor: (options, callback) ->\n        # must be done first, otherwise it's undefined\n        @uploadQueue = options.uploadQueue\n\n        # do not use modal short constructor\n        Modal.__super__.constructor.apply this, arguments\n        @callback = callback\n        @validator = options.validator\n        @files = options.files\n\n        @views = {}\n\n        @onYes() if @files?.length > 0\n\n    initialize: ->\n        @listenTo @uploadQueue, 'add', @afterRender\n        @listenTo @uploadQueue, 'upload-progress', (progress) =>\n            @totalProgress.trigger 'progress', progress\n\n            # Force the refresh if all uploads are done\n            @afterRender() if @uploadQueue.isAllLoaded()\n\n        super()\n\n    afterRender: =>\n        @input = @$ '#uploader input'\n        @label = @$ '#uploader .text'\n\n        # files are being uploaded\n        if @uploadQueue.length > 0\n            # hide what must be hide\n            noButton = $ '#modal-dialog-no'\n            noButton.html '&nbsp;'\n            noButton.spin 'small'\n\n            @subRenderTotalProgressBar()\n            @subRenderFileUploadProgress()\n\n            # when upload is over, we reset the modal\n            if @uploadQueue.isAllLoaded()\n                noButton = $ '#modal-dialog-no'\n                noButton.spin false\n                noButton.html t 'upload end button'\n                @uploadQueue.reset()\n\n    subRenderTotalProgressBar: ->\n        @$('#progress-total').empty()\n        @views = []\n        @totalProgress = new Backbone.Model()\n        @totalProgress.loaded = @uploadQueue.loaded\n        @totalProgress.total = @uploadQueue.length\n\n        progressbar = new ProgressBar(model: @totalProgress).render()\n        $(\"<span>#{t('total progress')}</span>\").appendTo @$ '#progress-total'\n        progressbar.$el.appendTo @$ '#progress-total'\n\n    subRenderFileUploadProgress: ->\n        @$('#progress-part').empty()\n        filesEl =  []\n        # first we detach the existing views (better performance)\n        _.map Object.keys(@views), (viewID) => @views[viewID].$el.detach()\n\n        # next we create or reattach existing views\n        @uploadQueue.forEach (uploadingFile) =>\n            uploadView = @views[uploadingFile.cid]\n\n            unless uploadView?\n                uploadEl = new UploadedFileView model: uploadingFile\n                @views[uploadingFile.cid] = uploadEl\n\n            @$('#progress-part').append uploadEl.render().$el\n\n    onNo: ->\n        @input.val \"\"\n        @hide()\n        setTimeout (() => @destroy()), 500\n\n    onYes: -> @doUploadFiles => @callback?()\n\n    handleUploaderActive: =>\n        @$('#uploader').addClass 'active'\n        $(document).one 'mouseup', =>\n            @$('#uploader').removeClass 'active'\n\n    updateMessage: =>\n        if @files.length\n            msg = t 'upload msg selected', smart_count: @files.length\n            $('#modal-dialog-yes').prop \"disabled\", false\n        else\n            msg = t 'upload msg'\n            $('#modal-dialog-yes').prop \"disabled\", true\n\n        @label.text msg\n\n    onUploaderChange: (e) =>\n        @files = @input[0].files\n        @updateMessage()\n\n    onDragEnter: (e) ->\n        e.preventDefault()\n        e.stopPropagation()\n        @$('.modal-body').css 'background-color', 'yellow'\n\n    onDragLeave: (e) ->\n        e.preventDefault()\n        e.stopPropagation()\n        @$('.modal-body').css 'background-color', ''\n\n    onDrop: (e) =>\n        e.preventDefault()\n        e.stopPropagation()\n\n        @files = _.filter e.dataTransfer.files, (attach) -> attach.type isnt ''\n        @updateMessage()\n\n    doUploadFiles: (callback) =>\n        # file models are created based on form content\n        models = _.map @files, (blob) =>\n            fileModel = new File\n                type: 'file'\n                name: blob.name\n                path: blob.path or @model.getRepository()\n                lastModification: blob.lastModifiedDate\n            fileModel.file = blob\n            fileModel.loaded = 0\n            fileModel.total = blob.size\n            fileModel.error = @validator fileModel\n            return fileModel\n        @uploadQueue.add models\n        @uploadQueue.processUpload callback\n\n        # input is cleared to allow simultaneous uploads\n        @files = []\n        @input.val \"\"\n        @updateMessage()\n\n    destroy: ->\n        @stopListening @uploadQueue\n        super()\n","window.CozySocketListener = {fake: ''}\nFolderView = require './folder'\nFile = require '../models/file'\nFilesView = require './files'\nFileCollection = require '../collections/files'\nModal = require './modal'\n\nclass PublicFilesView extends FilesView\n    initialize: (@collection, @model) ->\n        # patch to not use socket listener\n        FilesView.__super__.initialize.apply this, arguments\n\n    # reload to re-render\n    addItem: -> window.location.reload()\n\nmodule.exports = class PublicFolderView extends FolderView\n\n    el: document.getElementsByTagName('body')[0]\n    templates: -> ''\n    initialize: (options) ->\n        @model = new File _.extend options.folder, type: 'folder'\n        @uploadQueue = options.uploadQueue\n        # patch to use proper url\n        old = File::urlRoot\n        File::urlRoot = -> '../' + old.apply(this, arguments) + window.location.search\n\n        # patch to allow uploads\n        @collection = new FileCollection []\n        @filesList = new PublicFilesView @collection, @model\n        @$('#download-link').click (event) ->\n            if window.numElements is 0\n                event.preventDefault()\n                Modal.error t 'modal error zip empty folder'\n\n    onCancelFolder: ->\n        # this feels hacky, but not sure how to handle it better\n        # there has been some uploading done, let's reload\n        super\n        if @$('.progress-name').length\n            window.location.reload()\n","BaseView = require '../lib/base_view'\n\nmodule.exports = class TagsView extends BaseView\n\n    initialize: ->\n        super\n\n    afterRender: ->\n\n        @$el.tagit\n            availableTags: window.tags or []\n            placeholderText: t 'tag'\n            afterTagAdded: @tagAdded\n            afterTagRemoved: @tagRemoved\n            onTagClicked: @tagClicked\n\n        # hack to prevent tagit events\n        @duringRefresh = false\n\n        $('.ui-widget-content .ui-autocomplete-input').keypress (event) ->\n            keyCode = event.keyCode || event.which\n            $('.zone .type').first().select() if keyCode is 9\n\n        return this\n\n    tagAdded: (event, ui) =>\n        unless @duringRefresh or ui.duringInitialization\n            @model.set 'tags', @$el.tagit 'assignedTags'\n            @model.save()\n\n    tagClicked: (event, ui) =>\n        $(\"#search-box\").val \"tag:#{ui.tagLabel}\"\n        $(\"#search-box\").trigger 'keyup'\n        $(\".dropdown-menu\").hide()\n\n    tagRemoved: (event, ui) =>\n        unless @duringRefresh or ui.duringInitialization\n            @model.set 'tags', @$el.tagit 'assignedTags'\n            @model.save()\n\n    refresh: =>\n        @duringRefresh = true\n        @$el.tagit 'removeAll'\n        for tag in @model.get('tags')\n            @$el.tagit 'createTag', tag\n        @duringRefresh = false\n","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),model = locals_.model;\nif ( model.id == \"root\")\n{\nbuf.push(\"<li><a href=\\\"#\\\"><span class=\\\"glyphicon glyphicon-home\\\"></span></a></li>\");\n}\nelse\n{\nif ( model.type == \"search\")\n{\nbuf.push(\"<li><a\" + (jade.attr(\"href\", \"#search/\" + (model.id) + \"\", true, false)) + \">\" + (jade.escape((jade_interp = model.name) == null ? '' : jade_interp)) + \"</a></li>\");\n}\nelse\n{\nbuf.push(\"<li><a\" + (jade.attr(\"href\", \"#folders/\" + (model.id) + \"\", true, false)) + \">\" + (jade.escape((jade_interp = model.name) == null ? '' : jade_interp)) + \"</a></li>\");\n}\n};return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),model = locals_.model,options = locals_.options;\nbuf.push(\"<td><div class=\\\"caption-wrapper\\\">\");\nif ( model.type == 'folder')\n{\nbuf.push(\"<a\" + (jade.attr(\"href\", \"#folders/\" + (model.id) + \"\", true, false)) + (jade.attr(\"title\", \"\" + (t('open folder')) + \"\", true, false)) + \" class=\\\"caption btn btn-link\\\"><i class=\\\"fa fa-folder\\\"></i>\" + (jade.escape((jade_interp = model.name) == null ? '' : jade_interp)) + \"</a>\");\n}\nelse if ( model.type == 'file')\n{\nbuf.push(\"<a\" + (jade.attr(\"href\", \"files/\" + (model.id) + \"/attach/\" + (model.name) + \"\", true, false)) + (jade.attr(\"title\", \"\" + (t('download file')) + \"\", true, false)) + \" target=\\\"_blank\\\" class=\\\"caption btn btn-link\\\"><i class=\\\"fa fa-file-o\\\"></i>\" + (jade.escape((jade_interp = model.name) == null ? '' : jade_interp)) + \"</a>\");\n}\nbuf.push(\"<ul class=\\\"tags\\\">\");\nif ( model.tags)\n{\n// iterate model.tags\n;(function(){\n  var $$obj = model.tags;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var tag = $$obj[$index];\n\nbuf.push(\"<li>\" + (jade.escape((jade_interp = tag) == null ? '' : jade_interp)) + \"</li>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var tag = $$obj[$index];\n\nbuf.push(\"<li>\" + (jade.escape((jade_interp = tag) == null ? '' : jade_interp)) + \"</li>\");\n    }\n\n  }\n}).call(this);\n\n}\nbuf.push(\"</ul><div class=\\\"operations\\\"><a\" + (jade.attr(\"title\", \"\" + (t('tooltip share')) + \"\", true, false)) + \" class=\\\"file-share\\\">\");\nif ( model.clearance == 'public')\n{\nbuf.push(\"<span class=\\\"fa fa-globe\\\"></span>\");\n}\nelse if ( model.clearance && model.clearance.length > 0)\n{\nbuf.push(\"<span class=\\\"fa fa-users\\\">\" + (jade.escape((jade_interp = model.clearance.length) == null ? '' : jade_interp)) + \"</span>\");\n}\nelse\n{\nbuf.push(\"<span class=\\\"fa fa-lock\\\"></span>\");\n}\nbuf.push(\"</a><a\" + (jade.attr(\"title\", \"\" + (t('tooltip edit')) + \"\", true, false)) + \" class=\\\"file-edit\\\"><span class=\\\"glyphicon glyphicon-edit\\\"></span></a><a\" + (jade.attr(\"title\", \"\" + (t('tooltip move')) + \"\", true, false)) + \" class=\\\"file-move\\\"><span class=\\\"glyphicon glyphicon-arrow-right\\\"></span></a><a\" + (jade.attr(\"title\", \"\" + (t('tooltip delete')) + \"\", true, false)) + \" class=\\\"file-delete\\\"><span class=\\\"glyphicon glyphicon-remove-circle\\\"></span></a><a\" + (jade.attr(\"href\", \"folders/\" + (model.id) + \"/zip/\" + (model.name) + \"\", true, false)) + \" target=\\\"_blank\\\"\" + (jade.attr(\"title\", \"\" + (t('tooltip download')) + \"\", true, false)) + \" class=\\\"file-download\\\"><span class=\\\"glyphicon glyphicon-cloud-download\\\"></span></a></div></div><!-- empty by default--></td><td class=\\\"size-column-cell\\\">\");\nif ( model.type == 'file')\n{\noptions = {base: 2}\nbuf.push(\"<span>\" + (jade.escape((jade_interp = filesize(model.size || 0, options)) == null ? '' : jade_interp)) + \"</span>\");\n}\nbuf.push(\"</td><td class=\\\"type-column-cell\\\">\");\nif ( model.type == 'folder')\n{\nbuf.push(\"<span class=\\\"pull-left\\\">\" + (jade.escape((jade_interp = t('folder')) == null ? '' : jade_interp)) + \"</span>\");\n}\nelse\n{\nbuf.push(\"<span class=\\\"pull-left\\\">\" + (jade.escape((jade_interp = t(model.class)) == null ? '' : jade_interp)) + \"</span>\");\n}\nbuf.push(\"</td><td class=\\\"date-column-cell\\\">\");\nif ( model.lastModification)\n{\nbuf.push(\"<span>\" + (jade.escape((jade_interp = moment(model.lastModification).calendar()) == null ? '' : jade_interp)) + \"</span>\");\n}\nbuf.push(\"</td>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),model = locals_.model,options = locals_.options;\nbuf.push(\"<td><div class=\\\"caption-wrapper\\\"><span class=\\\"caption caption-edit btn-link\\\">\");\nif ( model.type && model.type == \"folder\")\n{\nbuf.push(\"<i class=\\\"fa fa-folder\\\"></i>\");\n}\nelse\n{\nbuf.push(\"<i class=\\\"fa fa-file-o\\\"></i>\");\n}\nbuf.push(\"<input\" + (jade.attr(\"value\", model.name, true, false)) + \" class=\\\"caption file-edit-name\\\"/></span><a class=\\\"btn btn-sm btn-cozy file-edit-save\\\">\" + (jade.escape((jade_interp = t(\"file edit save\")) == null ? '' : jade_interp)) + \"</a><a class=\\\"btn btn-sm btn-link file-edit-cancel\\\">\" + (jade.escape((jade_interp = t(\"file edit cancel\")) == null ? '' : jade_interp)) + \"</a><!-- empty!--></div><!-- empty by default--></td><td class=\\\"size-column-cell\\\">\");\nif ( model.type == 'file')\n{\noptions = {base: 2}\nbuf.push(\"<span>\" + (jade.escape((jade_interp = filesize(model.size || 0, options)) == null ? '' : jade_interp)) + \"</span>\");\n}\nbuf.push(\"</td><td class=\\\"type-column-cell\\\">\");\nif ( model.type == 'folder')\n{\nbuf.push(\"<span class=\\\"pull-left\\\">\" + (jade.escape((jade_interp = t('folder')) == null ? '' : jade_interp)) + \"</span>\");\n}\nelse\n{\nbuf.push(\"<span class=\\\"pull-left\\\">\" + (jade.escape((jade_interp = t(model.class)) == null ? '' : jade_interp)) + \"</span>\");\n}\nbuf.push(\"</td><td class=\\\"date-column-cell\\\">\");\nif ( model.lastModification)\n{\nbuf.push(\"<span>\" + (jade.escape((jade_interp = moment(model.lastModification).calendar()) == null ? '' : jade_interp)) + \"</span>\");\n}\nbuf.push(\"</td>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),model = locals_.model,options = locals_.options;\nbuf.push(\"<td><div class=\\\"caption-wrapper\\\">\");\nif ( model.type == 'folder')\n{\nbuf.push(\"<a\" + (jade.attr(\"href\", \"#folders/\" + (model.id) + \"\", true, false)) + (jade.attr(\"title\", \"\" + (t('open folder')) + \"\", true, false)) + \" class=\\\"caption btn btn-link\\\"><i class=\\\"fa fa-folder\\\"></i>\" + (jade.escape((jade_interp = model.name) == null ? '' : jade_interp)) + \"</a>\");\n}\nelse if ( model.type == 'file')\n{\nbuf.push(\"<a\" + (jade.attr(\"href\", \"files/\" + (model.id) + \"/attach/\" + (model.name) + \"\", true, false)) + (jade.attr(\"title\", \"\" + (t('download file')) + \"\", true, false)) + \" target=\\\"_blank\\\" class=\\\"caption btn btn-link\\\"><i class=\\\"fa fa-file-o\\\"></i>\" + (jade.escape((jade_interp = model.name) == null ? '' : jade_interp)) + \"</a>\");\n}\nbuf.push(\"<ul class=\\\"tags\\\">\");\nif ( model.tags)\n{\n// iterate model.tags\n;(function(){\n  var $$obj = model.tags;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var tag = $$obj[$index];\n\nbuf.push(\"<li>\" + (jade.escape((jade_interp = tag) == null ? '' : jade_interp)) + \"</li>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var tag = $$obj[$index];\n\nbuf.push(\"<li>\" + (jade.escape((jade_interp = tag) == null ? '' : jade_interp)) + \"</li>\");\n    }\n\n  }\n}).call(this);\n\n}\nbuf.push(\"</ul><div class=\\\"operations\\\"><a\" + (jade.attr(\"title\", \"\" + (t('tooltip share')) + \"\", true, false)) + \" class=\\\"file-share\\\">\");\nif ( model.clearance == 'public')\n{\nbuf.push(\"<span class=\\\"fa fa-globe\\\"></span>\");\n}\nelse if ( model.clearance && model.clearance.length > 0)\n{\nbuf.push(\"<span class=\\\"fa fa-users\\\">\" + (jade.escape((jade_interp = model.clearance.length) == null ? '' : jade_interp)) + \"</span>\");\n}\nelse\n{\nbuf.push(\"<span class=\\\"fa fa-lock\\\"></span>\");\n}\nbuf.push(\"</a><a\" + (jade.attr(\"title\", \"\" + (t('tooltip edit')) + \"\", true, false)) + \" class=\\\"file-edit\\\"><span class=\\\"glyphicon glyphicon-edit\\\"></span></a><a\" + (jade.attr(\"title\", \"\" + (t('tooltip move')) + \"\", true, false)) + \" class=\\\"file-move\\\"><span class=\\\"glyphicon glyphicon-arrow-right\\\"></span></a><a\" + (jade.attr(\"title\", \"\" + (t('tooltip delete')) + \"\", true, false)) + \" class=\\\"file-delete\\\"><span class=\\\"glyphicon glyphicon-remove-circle\\\"></span></a><a\" + (jade.attr(\"href\", \"folders/\" + (model.id) + \"/zip/\" + (model.name) + \"\", true, false)) + \" target=\\\"_blank\\\"\" + (jade.attr(\"title\", \"\" + (t('tooltip download')) + \"\", true, false)) + \" class=\\\"file-download\\\"><span class=\\\"glyphicon glyphicon-cloud-download\\\"></span></a></div></div><p class=\\\"file-path\\\">\" + (jade.escape((jade_interp = model.path) == null ? '' : jade_interp)) + \"/\" + (jade.escape((jade_interp = model.name) == null ? '' : jade_interp)) + \"</p></td><td class=\\\"size-column-cell\\\">\");\nif ( model.type == 'file')\n{\noptions = {base: 2}\nbuf.push(\"<span>\" + (jade.escape((jade_interp = filesize(model.size || 0, options)) == null ? '' : jade_interp)) + \"</span>\");\n}\nbuf.push(\"</td><td class=\\\"type-column-cell\\\">\");\nif ( model.type == 'folder')\n{\nbuf.push(\"<span class=\\\"pull-left\\\">\" + (jade.escape((jade_interp = t('folder')) == null ? '' : jade_interp)) + \"</span>\");\n}\nelse\n{\nbuf.push(\"<span class=\\\"pull-left\\\">\" + (jade.escape((jade_interp = t(model.class)) == null ? '' : jade_interp)) + \"</span>\");\n}\nbuf.push(\"</td><td class=\\\"date-column-cell\\\">\");\nif ( model.lastModification)\n{\nbuf.push(\"<span>\" + (jade.escape((jade_interp = moment(model.lastModification).calendar()) == null ? '' : jade_interp)) + \"</span>\");\n}\nbuf.push(\"</td>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),model = locals_.model;\nbuf.push(\"<table id=\\\"table-items\\\" class=\\\"table table-hover\\\"><thead><tr class=\\\"table-headers\\\"><td><span>\" + (jade.escape(null == (jade_interp = t('name')) ? \"\" : jade_interp)) + \"</span><a id=\\\"down-name\\\" class=\\\"btn glyphicon glyphicon-chevron-down unactive\\\"></a><a id=\\\"up-name\\\" class=\\\"btn glyphicon glyphicon-chevron-up unactive\\\"></a></td><td class=\\\"size-column-cell\\\"><span>\" + (jade.escape(null == (jade_interp = t('size')) ? \"\" : jade_interp)) + \"</span><a id=\\\"down-size\\\" class=\\\"glyphicon glyphicon-chevron-down btn unactive\\\"></a><a id=\\\"up-size\\\" class=\\\"unactive btn glyphicon glyphicon-chevron-up unactive\\\"></a></td><td class=\\\"type-column-cell\\\"><span>\" + (jade.escape(null == (jade_interp = t('type')) ? \"\" : jade_interp)) + \"</span><a id=\\\"down-class\\\" class=\\\"btn glyphicon glyphicon-chevron-down unactive\\\"></a><a id=\\\"up-class\\\" class=\\\"glyphicon glyphicon-chevron-up btn unactive\\\"></a></td><td class=\\\"date-column-cell\\\"><span>\" + (jade.escape(null == (jade_interp = t('date')) ? \"\" : jade_interp)) + \"</span><a id=\\\"down-lastModification\\\" class=\\\"btn glyphicon glyphicon-chevron-down unactive\\\"></a><a id=\\\"up-lastModification\\\" class=\\\"btn glyphicon glyphicon-chevron-up unactive\\\"></a></td></tr></thead><tbody id=\\\"table-items-body\\\"></tbody></table><p id=\\\"file-amount-indicator\\\" class=\\\"footer\\\"></p><p id=\\\"no-files-indicator\\\" class=\\\"footer\\\">\");\nif ( model.type == 'search')\n{\nbuf.push(\"\" + (jade.escape((jade_interp = t('no file in search')) == null ? '' : jade_interp)) + \"\");\n}\nelse\n{\nbuf.push(\"\" + (jade.escape((jade_interp = t('no file in folder')) == null ? '' : jade_interp)) + \"\");\n}\nbuf.push(\"</p>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),query = locals_.query,model = locals_.model;\nbuf.push(\"<div id=\\\"affixbar\\\" data-spy=\\\"affix\\\" data-offset-top=\\\"1\\\"><div class=\\\"container\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-12\\\"><div id=\\\"crumbs\\\" class=\\\"pull-left\\\"></div><p class=\\\"pull-right\\\"><input id=\\\"search-box\\\" type=\\\"search\\\"\" + (jade.attr(\"value\", \"\" + (query) + \"\", true, false)) + \"/>\");\nif ( model.type != 'search')\n{\nbuf.push(\"<div id=\\\"upload-buttons\\\" class=\\\"pull-right\\\">\");\nif ( model.id != 'root')\n{\nbuf.push(\"<a id=\\\"share-state\\\" class=\\\"btn btn-cozy btn-cozy-contrast\\\">\");\nif ( model.clearance == 'public')\n{\nbuf.push(\"\" + (jade.escape((jade_interp = t('public')) == null ? '' : jade_interp)) + \"<span class=\\\"fa fa-globe\\\"></span>\");\n}\nelse if ( model.clearance && model.clearance.length > 0)\n{\nbuf.push(\"\" + (jade.escape((jade_interp = t('shared')) == null ? '' : jade_interp)) + \"<span class=\\\"fa fa-users\\\"></span><span>\" + (jade.escape(null == (jade_interp = model.clearance.length) ? \"\" : jade_interp)) + \"</span>\");\n}\nelse\n{\nbuf.push(\"\" + (jade.escape((jade_interp = t('private')) == null ? '' : jade_interp)) + \"<span class=\\\"fa fa-lock\\\"></span>\");\n}\nbuf.push(\"</a>&nbsp;\");\n}\nbuf.push(\"<a id=\\\"button-upload-new-file\\\"\" + (jade.attr(\"title\", t('upload button'), true, false)) + \" class=\\\"btn btn-cozy btn-cozy\\\"><img src=\\\"images/add-file.png\\\"/></a>&nbsp;<a id=\\\"button-new-folder\\\"\" + (jade.attr(\"title\", t('new folder button'), true, false)) + \" class=\\\"btn btn-cozy\\\"><img src=\\\"images/add-folder.png\\\"/></a>&nbsp;<span>&nbsp;</span></div>\");\n}\nbuf.push(\"</p></div></div></div></div><div class=\\\"container\\\"><div class=\\\"row\\\"><div id=\\\"content\\\" class=\\\"col-lg-12\\\"><div id=\\\"loading-indicator\\\">&nbsp;</div><div id=\\\"files\\\"></div><div id=\\\"files-drop-zone\\\"><div class=\\\"overlay\\\"></div><div class=\\\"vertical-container\\\"><p>\" + (jade.escape(null == (jade_interp = t('drop message')) ? \"\" : jade_interp)) + \"</p></div></div></div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),title = locals_.title,msg = locals_.msg,no = locals_.no,yes = locals_.yes;\nbuf.push(\"<div class=\\\"modal-dialog\\\"><div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" data-dismiss=\\\"modal\\\" aria-hidden=\\\"true\\\" class=\\\"close\\\"></button><h4 class=\\\"modal-title\\\">\" + (jade.escape((jade_interp = title) == null ? '' : jade_interp)) + \"</h4></div><div class=\\\"modal-body\\\"><p>\" + (jade.escape((jade_interp = msg) == null ? '' : jade_interp)) + \"</p></div><div class=\\\"modal-footer\\\">\");\nif ( no)\n{\nbuf.push(\"<button id=\\\"modal-dialog-no\\\" type=\\\"button\\\" class=\\\"btn btn-link\\\">\" + (jade.escape((jade_interp = no) == null ? '' : jade_interp)) + \"</button>\");\n}\nif ( yes)\n{\nbuf.push(\"<button id=\\\"modal-dialog-yes\\\" type=\\\"button\\\" class=\\\"btn btn-cozy\\\">\" + (jade.escape((jade_interp = yes) == null ? '' : jade_interp)) + \"</button>\");\n}\nbuf.push(\"</div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<div class=\\\"modal-dialog\\\"><div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" data-dismiss=\\\"modal\\\" aria-hidden=\\\"true\\\" class=\\\"close\\\"></button><h4 class=\\\"modal-title\\\">\" + (jade.escape((jade_interp = t(\"new folder caption\")) == null ? '' : jade_interp)) + \"</h4></div><div class=\\\"modal-body\\\"><fieldset><div class=\\\"form-group\\\"><label for=\\\"inputName\\\">\" + (jade.escape((jade_interp = t(\"new folder msg\")) == null ? '' : jade_interp)) + \"</label><input id=\\\"inputName\\\" type=\\\"text\\\" class=\\\"form-control\\\"/></div><div id=\\\"folder-upload-form\\\" class=\\\"form-group hide\\\"><br/><p class=\\\"text-center\\\">\" + (jade.escape(null == (jade_interp = t('upload folder separator')) ? \"\" : jade_interp)) + \"</p><label for=\\\"inputName\\\">\" + (jade.escape((jade_interp = t(\"upload folder msg\")) == null ? '' : jade_interp)) + \"</label><input id=\\\"folder-uploader\\\" type=\\\"file\\\" directory=\\\"directory\\\" mozdirectory=\\\"mozdirectory\\\" webkitdirectory=\\\"webkitdirectory\\\" class=\\\"form-control\\\"/></div></fieldset></div><div class=\\\"modal-footer\\\"><button id=\\\"modal-dialog-no\\\" type=\\\"button\\\" data-dismiss=\\\"modal\\\" class=\\\"btn btn-link\\\">\" + (jade.escape((jade_interp = t(\"new folder close\")) == null ? '' : jade_interp)) + \"</button><button id=\\\"modal-dialog-yes\\\" type=\\\"button\\\" disabled=\\\"disabled\\\" class=\\\"btn btn-cozy-contrast\\\">\" + (jade.escape((jade_interp = t(\"new folder send\")) == null ? '' : jade_interp)) + \"</button></div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<div class=\\\"modal-dialog\\\"><div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" data-dismiss=\\\"modal\\\" aria-hidden=\\\"true\\\" class=\\\"close\\\"></button><h4 class=\\\"modal-title\\\">\" + (jade.escape((jade_interp = t(\"upload caption\")) == null ? '' : jade_interp)) + \"</h4></div><div class=\\\"modal-body\\\"><fieldset><div class=\\\"form-group\\\"><div id=\\\"uploader\\\"><div class=\\\"text\\\">\" + (jade.escape((jade_interp = t(\"upload msg\")) == null ? '' : jade_interp)) + \"</div><input type=\\\"file\\\" multiple=\\\"multiple\\\"/></div></div></fieldset><div id=\\\"progress-total\\\"></div><div id=\\\"progress-part\\\"></div></div><div class=\\\"modal-footer\\\"><button id=\\\"modal-dialog-no\\\" type=\\\"button\\\" data-dismiss=\\\"modal\\\" class=\\\"btn btn-link\\\">\" + (jade.escape((jade_interp = t(\"upload close\")) == null ? '' : jade_interp)) + \"</button><button id=\\\"modal-dialog-yes\\\" type=\\\"button\\\" disabled=\\\"disabled\\\" class=\\\"btn btn-cozy-contrast\\\">\" + (jade.escape((jade_interp = t(\"upload send\")) == null ? '' : jade_interp)) + \"</button></div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),value = locals_.value;\nbuf.push(\"<div class=\\\"progress active\\\"><div role=\\\"progressbar\\\"\" + (jade.attr(\"aria-valuenow\", \"\" + (value) + \"\", true, false)) + \" aria-valuemin=\\\"0\\\" aria-valuemax=\\\"100\\\"\" + (jade.attr(\"style\", \"width: \" + (value) + \"%\", true, false)) + \" class=\\\"progress-bar progress-bar-info\\\">\" + (jade.escape((jade_interp = value) == null ? '' : jade_interp)) + \"%</div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","ProgressBar = require '../widgets/progressbar'\n\nBaseView = require '../lib/base_view'\nmodule.exports = class UploadedFileView extends BaseView\n\n    className: 'upload-progress-item'\n\n    initialize: (options) ->\n        super options\n\n        @isDone = false\n        @listenTo @model, 'sync', =>\n            @isDone = true\n            @render()\n\n    template: ->\n        content = $ \"\"\"\n            <div class=\"progress-name\">\n                <span class=\"name\">#{@model.get('name')}</span>\n            </div>\n        \"\"\"\n        if @model.error\n            content.append \"\"\"\n            <span class=\"error\"> : #{@model.error}</span>\n            \"\"\"\n        else if @isDone or @model.isUploaded\n            content.append \"\"\"\n            <span class=\"success\">#{t 'upload success'}</span>\n            \"\"\"\n        else\n            content.append new ProgressBar(model: @model).render().$el\n\n        return content\n\n        destroy: ->\n            @stopListening @model\n            super()","BaseView = require '../lib/base_view'\n\nmodule.exports = class ProgressbarView extends BaseView\n\n    className: 'progressview'\n    template: require '../views/templates/progressbar'\n    value: 0\n\n    initialize: ->\n        @listenTo @model, 'progress', @update\n        @listenTo @model, 'sync', @destroy\n\n        @value = @getProgression @model.loaded, @model.total\n\n    update: (e) ->\n        @value = @getProgression e.loaded, e.total\n        @render()\n\n    getProgression: (loaded, total) ->\n        return parseInt(loaded / total * 100)\n\n    getRenderData: ->\n        value: @value\n        name: @model.get 'name'\n"]}